@{
    ViewBag.Title = "";
}

<style>
    div.a {
        height: 200px;
        border: 1px solid black;
    }

    div.b {
        width: 100%;
        height: 200px;
        border: 1px solid black;
    }
</style>


<div class="row">
    <div class="col-lg-12" id="todos">
        @Html.Action("MostrarFamilias")
    </div>
    <table style="width:100%" height="200px">
        <tr>
            <td width="50%" height="200px">
                <div class="b" style="height:400px; overflow-y:scroll" id="familia">
                    @{Html.RenderAction("MostrarDetalleFamilia");}
                </div>
            </td>
            <td width="50%">
                <div class="b" style="height:400px; overflow-y:scroll" id="Platillo">
                    @{Html.RenderAction("MostrarPlatillos");}
                </div>
            </td>
        </tr>
    </table>
    <div class="b" style="height:400px; overflow-y:scroll" id="SubTotal">
        @{Html.RenderAction("SubTotal");}
    </div>
    <h1>@ViewBag.SubTotal</h1>
</div>

@section scripts {
    <script>
        $(function ()
        {
            $.ajax(
                {
                    url: "@Url.Content("~/Home/MostrarFamilias")"
                }).done(function (data)
                    {
                        $('#todos').html(data);
                    }).fail(function ()
                    {
                        alert("Error 1");
                });
        });
        $('#todos').on('click', 'a[data-url]', function () {
            var dataUrl = $(this).data('url');
            $.ajax(
                {
                    url: dataUrl
                }).done(function (data) {
                    $('#familia').html(data);
                }).fail(function () {
                    alert('Error 2');
                });
            $('#todos a').removeClass('active');
            $(this).addClass('active');
        });
        $('#familia').on('click', 'a[data-url]', function () {
            var dataUrl = $(this).data('url');
            $.ajax(
                {
                    url: dataUrl
                }).done(function (data) {
                    $('#Platillo').html(data);
                }).fail(function () {
                    alert('Error 2');
                });
            $.ajax(
                {
                    url: "@Url.Content("~/home/SubTotal")"
                }).done(function (data) {
                    $('#SubTotal').html(data);
                }).fail(function () {
                    alert('Error 3');
                });
            $('#todos a').removeClass('active');
            $(this).addClass('active');
        });
    </script>
    }